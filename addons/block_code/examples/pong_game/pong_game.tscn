[gd_scene load_steps=64 format=3 uid="uid://tf7b8c64ecc0"]

[ext_resource type="PackedScene" uid="uid://cg8ibi18um3vg" path="res://addons/block_code/examples/pong_game/space.tscn" id="1_y56ac"]
[ext_resource type="Script" path="res://addons/block_code/simple_nodes/simple_character/simple_character.gd" id="3_mdrcv"]
[ext_resource type="Texture2D" uid="uid://tplpgtnfeda0" path="res://addons/block_code/examples/pong_game/assets/paddle.png" id="4_ra7bh"]
[ext_resource type="Script" path="res://addons/block_code/block_code_node/block_code.gd" id="7_cgupi"]
[ext_resource type="Script" path="res://addons/block_code/ui/block_canvas/option_data.gd" id="8_u12gb"]
[ext_resource type="Script" path="res://addons/block_code/serialization/value_block_serialization.gd" id="8_uwrfb"]
[ext_resource type="Script" path="res://addons/block_code/serialization/block_serialization.gd" id="9_1vqek"]
[ext_resource type="PackedScene" uid="uid://c7l70grmkauij" path="res://addons/block_code/examples/pong_game/ball.tscn" id="9_xrqll"]
[ext_resource type="Script" path="res://addons/block_code/serialization/block_serialization_tree.gd" id="10_t77ka"]
[ext_resource type="Script" path="res://addons/block_code/serialization/block_script_serialization.gd" id="10_wb77u"]
[ext_resource type="PackedScene" uid="uid://fhoapg3anjsu" path="res://addons/block_code/examples/pong_game/goal_area.tscn" id="12_nqmxu"]
[ext_resource type="Script" path="res://addons/block_code/simple_nodes/simple_scoring/simple_scoring.gd" id="13_tg3yk"]

[sub_resource type="Resource" id="Resource_clo7k"]
script = ExtResource("9_1vqek")
name = &"set_prop_speed"
children = Array[ExtResource("9_1vqek")]([])
arguments = {
"value": Vector2(0, 1000)
}

[sub_resource type="Resource" id="Resource_8h58v"]
script = ExtResource("9_1vqek")
name = &"ready"
children = Array[ExtResource("9_1vqek")]([SubResource("Resource_clo7k")])
arguments = {}

[sub_resource type="Resource" id="Resource_nv0qb"]
script = ExtResource("10_t77ka")
root = SubResource("Resource_8h58v")
canvas_position = Vector2(0, 0)

[sub_resource type="Resource" id="Resource_fsm7a"]
script = ExtResource("8_u12gb")
selected = 0
items = ["player_1", "player_2"]

[sub_resource type="Resource" id="Resource_vmtwb"]
script = ExtResource("8_u12gb")
selected = 0
items = ["top-down", "platformer", "spaceship"]

[sub_resource type="Resource" id="Resource_8f480"]
script = ExtResource("9_1vqek")
name = &"simplecharacter_move"
children = Array[ExtResource("9_1vqek")]([])
arguments = {
"kind": SubResource("Resource_vmtwb"),
"player": SubResource("Resource_fsm7a")
}

[sub_resource type="Resource" id="Resource_ks3lc"]
script = ExtResource("9_1vqek")
name = &"physics_process"
children = Array[ExtResource("9_1vqek")]([SubResource("Resource_8f480")])
arguments = {}

[sub_resource type="Resource" id="Resource_lnv6d"]
script = ExtResource("10_t77ka")
root = SubResource("Resource_ks3lc")
canvas_position = Vector2(300, 0)

[sub_resource type="Resource" id="Resource_t2kol"]
script = ExtResource("10_wb77u")
script_inherits = "SimpleCharacter"
block_serialization_trees = Array[ExtResource("10_t77ka")]([SubResource("Resource_nv0qb"), SubResource("Resource_lnv6d")])
variables = Array[Resource("res://addons/block_code/ui/block_canvas/variable_resource.gd")]([])
generated_script = "extends SimpleCharacter


func _ready():
	speed = Vector2(0, 1000)

func _physics_process(delta):
	move_with_player_buttons(\"player_1\", \"top-down\", delta)

"
version = 0

[sub_resource type="Resource" id="Resource_riknl"]
script = ExtResource("9_1vqek")
name = &"set_prop_speed"
children = Array[ExtResource("9_1vqek")]([])
arguments = {
"value": Vector2(0, 1000)
}

[sub_resource type="Resource" id="Resource_ey4w2"]
script = ExtResource("9_1vqek")
name = &"ready"
children = Array[ExtResource("9_1vqek")]([SubResource("Resource_riknl")])
arguments = {}

[sub_resource type="Resource" id="Resource_sbq1g"]
script = ExtResource("10_t77ka")
root = SubResource("Resource_ey4w2")
canvas_position = Vector2(0, 0)

[sub_resource type="Resource" id="Resource_tca8v"]
script = ExtResource("8_u12gb")
selected = 1
items = ["player_1", "player_2"]

[sub_resource type="Resource" id="Resource_dyv20"]
script = ExtResource("8_u12gb")
selected = 0
items = ["top-down", "platformer", "spaceship"]

[sub_resource type="Resource" id="Resource_kqpcg"]
script = ExtResource("9_1vqek")
name = &"simplecharacter_move"
children = Array[ExtResource("9_1vqek")]([])
arguments = {
"kind": SubResource("Resource_dyv20"),
"player": SubResource("Resource_tca8v")
}

[sub_resource type="Resource" id="Resource_o21e3"]
script = ExtResource("9_1vqek")
name = &"physics_process"
children = Array[ExtResource("9_1vqek")]([SubResource("Resource_kqpcg")])
arguments = {}

[sub_resource type="Resource" id="Resource_xnjad"]
script = ExtResource("10_t77ka")
root = SubResource("Resource_o21e3")
canvas_position = Vector2(300, 0)

[sub_resource type="Resource" id="Resource_gwgcd"]
script = ExtResource("10_wb77u")
script_inherits = "SimpleCharacter"
block_serialization_trees = Array[ExtResource("10_t77ka")]([SubResource("Resource_sbq1g"), SubResource("Resource_xnjad")])
variables = Array[Resource("res://addons/block_code/ui/block_canvas/variable_resource.gd")]([])
generated_script = "extends SimpleCharacter


func _ready():
	speed = Vector2(0, 1000)

func _physics_process(delta):
	move_with_player_buttons(\"player_2\", \"top-down\", delta)

"
version = 0

[sub_resource type="Resource" id="Resource_p2lf3"]
script = ExtResource("9_1vqek")
name = &"rigidbody2d_physics_position"
children = Array[ExtResource("9_1vqek")]([])
arguments = {
"position": Vector2(960, 540)
}

[sub_resource type="Resource" id="Resource_mcpk1"]
script = ExtResource("9_1vqek")
name = &"define_method"
children = Array[ExtResource("9_1vqek")]([SubResource("Resource_p2lf3")])
arguments = {
"method_name": "reset__nil__"
}

[sub_resource type="Resource" id="Resource_2medh"]
script = ExtResource("10_t77ka")
root = SubResource("Resource_mcpk1")
canvas_position = Vector2(0, 0)

[sub_resource type="Resource" id="Resource_6qc8b"]
script = ExtResource("10_wb77u")
script_inherits = "RigidBody2D"
block_serialization_trees = Array[ExtResource("10_t77ka")]([SubResource("Resource_2medh")])
variables = Array[Resource("res://addons/block_code/ui/block_canvas/variable_resource.gd")]([])
generated_script = "extends RigidBody2D


func reset():

	PhysicsServer2D.body_set_state(
		get_rid(),
		PhysicsServer2D.BODY_STATE_TRANSFORM,
		Transform2D.IDENTITY.translated(Vector2(960, 540))
	)


"
version = 0

[sub_resource type="Resource" id="Resource_jacdc"]
script = ExtResource("8_uwrfb")
name = &"area2d_on_entered_body"
arguments = {}

[sub_resource type="Resource" id="Resource_1sogq"]
script = ExtResource("8_uwrfb")
name = &"is_node_in_group"
arguments = {
"group": "balls",
"node": SubResource("Resource_jacdc")
}

[sub_resource type="Resource" id="Resource_obxoe"]
script = ExtResource("8_uwrfb")
name = &"area2d_on_entered_body"
arguments = {}

[sub_resource type="Resource" id="Resource_nts6m"]
script = ExtResource("9_1vqek")
name = &"call_method_node"
children = Array[ExtResource("9_1vqek")]([])
arguments = {
"method_name": "reset",
"node": SubResource("Resource_obxoe")
}

[sub_resource type="Resource" id="Resource_l18yg"]
script = ExtResource("9_1vqek")
name = &"call_method_group"
children = Array[ExtResource("9_1vqek")]([])
arguments = {
"group": "scoring",
"method_name": "scored_on_left"
}

[sub_resource type="Resource" id="Resource_mje6i"]
script = ExtResource("9_1vqek")
name = &"if"
children = Array[ExtResource("9_1vqek")]([SubResource("Resource_nts6m"), SubResource("Resource_l18yg")])
arguments = {
"condition": SubResource("Resource_1sogq")
}

[sub_resource type="Resource" id="Resource_8utvi"]
script = ExtResource("9_1vqek")
name = &"area2d_on_entered"
children = Array[ExtResource("9_1vqek")]([SubResource("Resource_mje6i")])
arguments = {}

[sub_resource type="Resource" id="Resource_sx3tb"]
script = ExtResource("10_t77ka")
root = SubResource("Resource_8utvi")
canvas_position = Vector2(0, 0)

[sub_resource type="Resource" id="Resource_q200v"]
script = ExtResource("10_wb77u")
script_inherits = "Area2D"
block_serialization_trees = Array[ExtResource("10_t77ka")]([SubResource("Resource_sx3tb")])
variables = Array[Resource("res://addons/block_code/ui/block_canvas/variable_resource.gd")]([])
generated_script = "extends Area2D


func _init():
	body_entered.connect(_on_body_entered)

func _on_body_entered(body: Node):
	if ((body).is_in_group('balls')):
		(body).call('reset')
		get_tree().call_group('scoring', 'scored_on_left')

"
version = 0

[sub_resource type="Resource" id="Resource_k30oy"]
script = ExtResource("8_uwrfb")
name = &"area2d_on_entered_body"
arguments = {}

[sub_resource type="Resource" id="Resource_paup8"]
script = ExtResource("8_uwrfb")
name = &"is_node_in_group"
arguments = {
"group": "balls",
"node": SubResource("Resource_k30oy")
}

[sub_resource type="Resource" id="Resource_3hg7t"]
script = ExtResource("8_uwrfb")
name = &"area2d_on_entered_body"
arguments = {}

[sub_resource type="Resource" id="Resource_4sxi2"]
script = ExtResource("9_1vqek")
name = &"call_method_node"
children = Array[ExtResource("9_1vqek")]([])
arguments = {
"method_name": "reset",
"node": SubResource("Resource_3hg7t")
}

[sub_resource type="Resource" id="Resource_5tdtn"]
script = ExtResource("9_1vqek")
name = &"call_method_group"
children = Array[ExtResource("9_1vqek")]([])
arguments = {
"group": "scoring",
"method_name": "scored_on_right"
}

[sub_resource type="Resource" id="Resource_fqdqm"]
script = ExtResource("9_1vqek")
name = &"if"
children = Array[ExtResource("9_1vqek")]([SubResource("Resource_4sxi2"), SubResource("Resource_5tdtn")])
arguments = {
"condition": SubResource("Resource_paup8")
}

[sub_resource type="Resource" id="Resource_1m8o2"]
script = ExtResource("9_1vqek")
name = &"area2d_on_entered"
children = Array[ExtResource("9_1vqek")]([SubResource("Resource_fqdqm")])
arguments = {}

[sub_resource type="Resource" id="Resource_yot6g"]
script = ExtResource("10_t77ka")
root = SubResource("Resource_1m8o2")
canvas_position = Vector2(0, 0)

[sub_resource type="Resource" id="Resource_14dkb"]
script = ExtResource("10_wb77u")
script_inherits = "Area2D"
block_serialization_trees = Array[ExtResource("10_t77ka")]([SubResource("Resource_yot6g")])
variables = Array[Resource("res://addons/block_code/ui/block_canvas/variable_resource.gd")]([])
generated_script = "extends Area2D


func _init():
	body_entered.connect(_on_body_entered)

func _on_body_entered(body: Node):
	if ((body).is_in_group('balls')):
		(body).call('reset')
		get_tree().call_group('scoring', 'scored_on_right')

"
version = 0

[sub_resource type="Resource" id="Resource_73ur5"]
script = ExtResource("9_1vqek")
name = &"simplescoring_set_score_1"
children = Array[ExtResource("9_1vqek")]([])
arguments = {
"score": 0
}

[sub_resource type="Resource" id="Resource_g1te5"]
script = ExtResource("9_1vqek")
name = &"simplescoring_set_score_2"
children = Array[ExtResource("9_1vqek")]([])
arguments = {
"score": 0
}

[sub_resource type="Resource" id="Resource_duysg"]
script = ExtResource("9_1vqek")
name = &"ready"
children = Array[ExtResource("9_1vqek")]([SubResource("Resource_73ur5"), SubResource("Resource_g1te5")])
arguments = {}

[sub_resource type="Resource" id="Resource_0fjcc"]
script = ExtResource("10_t77ka")
root = SubResource("Resource_duysg")
canvas_position = Vector2(0, 0)

[sub_resource type="Resource" id="Resource_l25er"]
script = ExtResource("9_1vqek")
name = &"simplescoring_change_score_1"
children = Array[ExtResource("9_1vqek")]([])
arguments = {
"score": 1
}

[sub_resource type="Resource" id="Resource_sflo2"]
script = ExtResource("9_1vqek")
name = &"define_method"
children = Array[ExtResource("9_1vqek")]([SubResource("Resource_l25er")])
arguments = {
"method_name": "scored_on_right__nil__"
}

[sub_resource type="Resource" id="Resource_oecnx"]
script = ExtResource("10_t77ka")
root = SubResource("Resource_sflo2")
canvas_position = Vector2(250, 0)

[sub_resource type="Resource" id="Resource_4am7m"]
script = ExtResource("9_1vqek")
name = &"simplescoring_change_score_2"
children = Array[ExtResource("9_1vqek")]([])
arguments = {
"score": 1
}

[sub_resource type="Resource" id="Resource_5aleb"]
script = ExtResource("9_1vqek")
name = &"define_method"
children = Array[ExtResource("9_1vqek")]([SubResource("Resource_4am7m")])
arguments = {
"method_name": "scored_on_left__nil__"
}

[sub_resource type="Resource" id="Resource_vvki0"]
script = ExtResource("10_t77ka")
root = SubResource("Resource_5aleb")
canvas_position = Vector2(250, 175)

[sub_resource type="Resource" id="Resource_pyst3"]
script = ExtResource("10_wb77u")
script_inherits = "SimpleScoring"
block_serialization_trees = Array[ExtResource("10_t77ka")]([SubResource("Resource_0fjcc"), SubResource("Resource_oecnx"), SubResource("Resource_vvki0")])
variables = Array[Resource("res://addons/block_code/ui/block_canvas/variable_resource.gd")]([])
generated_script = "extends SimpleScoring


func _ready():
	score_left = 0
	score_right = 0

func scored_on_right():
	score_left += 1

func scored_on_left():
	score_right += 1

"
version = 0

[node name="Pong" type="Node2D"]

[node name="Space" parent="." instance=ExtResource("1_y56ac")]

[node name="PaddleLeft" type="CharacterBody2D" parent="." groups=["paddles"]]
modulate = Color(0.509804, 0.360784, 0.972549, 1)
position = Vector2(64, 544)
collision_mask = 5
script = ExtResource("3_mdrcv")
texture = ExtResource("4_ra7bh")

[node name="BlockCode" type="Node" parent="PaddleLeft"]
script = ExtResource("7_cgupi")
block_script = SubResource("Resource_t2kol")

[node name="PaddleRight" type="CharacterBody2D" parent="." groups=["paddles"]]
modulate = Color(0.509804, 0.360784, 0.972549, 1)
position = Vector2(1856, 544)
collision_mask = 5
script = ExtResource("3_mdrcv")
texture = ExtResource("4_ra7bh")

[node name="BlockCode" type="Node" parent="PaddleRight"]
script = ExtResource("7_cgupi")
block_script = SubResource("Resource_gwgcd")

[node name="Ball" parent="." instance=ExtResource("9_xrqll")]
modulate = Color(0.511, 0.362, 0.972, 1)
position = Vector2(960, 540)
gravity_scale = 0.0

[node name="BlockCode" type="Node" parent="Ball"]
script = ExtResource("7_cgupi")
block_script = SubResource("Resource_6qc8b")

[node name="GoalAreaLeft" parent="." groups=["goals"] instance=ExtResource("12_nqmxu")]
position = Vector2(-64, 544)

[node name="BlockCode" type="Node" parent="GoalAreaLeft"]
script = ExtResource("7_cgupi")
block_script = SubResource("Resource_q200v")

[node name="GoalAreaRight" parent="." groups=["goals"] instance=ExtResource("12_nqmxu")]
position = Vector2(1984, 544)

[node name="BlockCode" type="Node" parent="GoalAreaRight"]
script = ExtResource("7_cgupi")
block_script = SubResource("Resource_14dkb")

[node name="SimpleScoring" type="CanvasLayer" parent="." groups=["hud", "scoring"]]
follow_viewport_enabled = true
script = ExtResource("13_tg3yk")

[node name="BlockCode" type="Node" parent="SimpleScoring"]
script = ExtResource("7_cgupi")
block_script = SubResource("Resource_pyst3")

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(960, 540)
zoom = Vector2(0.6, 0.6)
